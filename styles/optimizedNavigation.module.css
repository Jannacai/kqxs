/* Optimized Navigation CSS Module */

/* Base styles với CSS custom properties để tối ưu performance */
:root {
	--nav-bg: #ffffff;
	--nav-text: #333333;
	--nav-hover: #007bff;
	--nav-active: #0056b3;
	--nav-border: #e9ecef;
	--nav-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	--nav-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	--nav-z-index: 1000;
}

/* Container chính */
.optimizedNavigation {
	position: relative;
	z-index: var(--nav-z-index);
	will-change: transform;
}

/* Mobile Menu Toggle - Tối ưu với transform thay vì opacity */
.iconMenu {
	display: none;
	position: fixed;
	top: 1rem;
	right: 1rem;
	z-index: 1001;
	background: var(--nav-bg);
	border: none;
	border-radius: 50%;
	width: 3rem;
	height: 3rem;
	box-shadow: var(--nav-shadow);
	cursor: pointer;
	transition: var(--nav-transition);
	transform: scale(1);
}

.iconMenu:hover {
	transform: scale(1.1);
}

.iconMenu:active {
	transform: scale(0.95);
}

/* Horizontal Navigation Bar - Tối ưu cho mobile */
.navbarMobileHorizontal {
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	background: var(--nav-bg);
	border-bottom: 1px solid var(--nav-border);
	z-index: 999;
	transform: translateY(0);
	transition: var(--nav-transition);
}

.navListHorizontal {
	display: flex;
	list-style: none;
	margin: 0;
	padding: 0.5rem 1rem;
	overflow-x: auto;
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.navListHorizontal::-webkit-scrollbar {
	display: none;
}

.navItemHorizontal {
	flex-shrink: 0;
	margin-right: 1rem;
}

.navItemLinkHorizontal {
	display: block;
	padding: 0.5rem 0.75rem;
	color: var(--nav-text);
	text-decoration: none;
	font-size: 0.875rem;
	font-weight: 500;
	border-radius: 0.25rem;
	transition: var(--nav-transition);
	white-space: nowrap;
}

.navItemLinkHorizontal:hover,
.navItemLinkHorizontal.active {
	color: var(--nav-hover);
	background: rgba(0, 123, 255, 0.1);
}

/* Mobile/Tablet Navigation - Tối ưu với transform và will-change */
.mobileNavbar {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100vh;
	z-index: 1000;
	visibility: hidden;
	opacity: 0;
	transition: var(--nav-transition);
	will-change: transform, opacity;
}

.mobileNavbar.hidden {
	transform: translateX(-100%);
}

.mobileNavbar:not(.hidden) {
	visibility: visible;
	opacity: 1;
}

.overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.5);
	opacity: 0;
	transition: var(--nav-transition);
}

.overlay.menuOpen {
	opacity: 1;
}

.menuDrawer {
	position: absolute;
	top: 0;
	left: 0;
	width: 80%;
	max-width: 320px;
	height: 100%;
	background: var(--nav-bg);
	transform: translateX(-100%);
	transition: var(--nav-transition);
	will-change: transform;
	overflow: hidden;
}

.menuDrawer.menuOpen {
	transform: translateX(0);
}

.headerLogo {
	padding: 1rem;
	border-bottom: 1px solid var(--nav-border);
	background: var(--nav-bg);
}

.headerLogoImg {
	width: 150px;
	height: 50px;
	object-fit: contain;
}

.scrollableMenu {
	height: calc(100vh - 80px);
	overflow-y: auto;
	scrollbar-width: thin;
	scrollbar-color: var(--nav-border) transparent;
}

.scrollableMenu::-webkit-scrollbar {
	width: 4px;
}

.scrollableMenu::-webkit-scrollbar-track {
	background: transparent;
}

.scrollableMenu::-webkit-scrollbar-thumb {
	background: var(--nav-border);
	border-radius: 2px;
}

.navbarMobile {
	padding: 1rem 0;
}

.navListMobile {
	list-style: none;
	margin: 0;
	padding: 0;
}

.navItemMobile {
	border-bottom: 1px solid var(--nav-border);
}

.navItemMobile:last-child {
	border-bottom: none;
}

.groupLinkMobile {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 1rem;
	cursor: pointer;
	transition: var(--nav-transition);
}

.groupLinkMobile:hover {
	background: rgba(0, 123, 255, 0.05);
}

.navItemLinkMobile {
	display: flex;
	align-items: center;
	color: var(--nav-text);
	text-decoration: none;
	font-size: 1rem;
	font-weight: 500;
	flex: 1;
	transition: var(--nav-transition);
}

.navItemLinkMobile:hover,
.navItemLinkMobile.active {
	color: var(--nav-hover);
}

.iconNav {
	margin-right: 0.75rem;
	font-size: 1.125rem;
	width: 1.25rem;
	text-align: center;
}

.icon {
	cursor: pointer;
	padding: 0.25rem;
	border-radius: 0.25rem;
	transition: var(--nav-transition);
}

.icon:hover {
	background: rgba(0, 123, 255, 0.1);
}

.navMenuMobile {
	max-height: 0;
	overflow: hidden;
	transition: max-height 0.3s ease-in-out;
	background: rgba(0, 123, 255, 0.02);
}

.navMenuMobile.menuList {
	max-height: 500px;
}

.navMenuLinkMobile {
	display: block;
	padding: 0.75rem 1rem 0.75rem 3rem;
	color: var(--nav-text);
	text-decoration: none;
	font-size: 0.875rem;
	transition: var(--nav-transition);
}

.navMenuLinkMobile:hover,
.navMenuLinkMobile.active {
	color: var(--nav-hover);
	background: rgba(0, 123, 255, 0.05);
}

/* Desktop Navigation - Tối ưu với CSS Grid và Flexbox */
.navbarDesktop {
	display: none;
	background: var(--nav-bg);
	border-bottom: 1px solid var(--nav-border);
	box-shadow: var(--nav-shadow);
	position: sticky;
	top: 0;
	z-index: 999;
}

.container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 1rem;
}

.navListDesktop {
	display: flex;
	list-style: none;
	margin: 0;
	padding: 0;
	align-items: center;
}

.navItemDesktop {
	position: relative;
	margin-right: 1rem;
}

.navItemDesktop:last-child {
	margin-right: 0;
}

.groupLink {
	display: flex;
	align-items: center;
	padding: 1rem 0.75rem;
	cursor: pointer;
	transition: var(--nav-transition);
	position: relative;
}

.groupLink:hover {
	background: rgba(0, 123, 255, 0.05);
}

.navItemLink {
	color: var(--nav-text);
	text-decoration: none;
	font-size: 1rem;
	font-weight: 500;
	transition: var(--nav-transition);
	margin-right: 0.5rem;
}

.navItemLink:hover,
.navItemLink.active {
	color: var(--nav-hover);
}

.navMenu {
	position: absolute;
	top: 100%;
	left: 0;
	background: var(--nav-bg);
	border: 1px solid var(--nav-border);
	border-radius: 0.25rem;
	box-shadow: var(--nav-shadow);
	min-width: 200px;
	opacity: 0;
	visibility: hidden;
	transform: translateY(-10px);
	transition: var(--nav-transition);
	z-index: 1000;
}

.navItemDesktop:hover .navMenu {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
}

.navMenuLink {
	display: block;
	padding: 0.75rem 1rem;
	color: var(--nav-text);
	text-decoration: none;
	font-size: 0.875rem;
	transition: var(--nav-transition);
	border-bottom: 1px solid var(--nav-border);
}

.navMenuLink:last-child {
	border-bottom: none;
}

.navMenuLink:hover,
.navMenuLink.active {
	color: var(--nav-hover);
	background: rgba(0, 123, 255, 0.05);
}

/* Avatar Skeleton Loading */
.avatarSkeleton {
	width: 2.5rem;
	height: 2.5rem;
	border-radius: 50%;
	background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
	background-size: 200% 100%;
	animation: loading 1.5s infinite;
}

@keyframes loading {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}

/* Responsive Design - Tối ưu với CSS Grid */
@media (max-width: 768px) {
	.iconMenu {
		display: block;
	}

	.navbarMobileHorizontal {
		display: block;
	}

	.mobileNavbar {
		display: block;
	}

	.navbarDesktop {
		display: none;
	}
}

@media (min-width: 769px) and (max-width: 1024px) {
	.iconMenu {
		display: block;
	}

	.navbarMobileHorizontal {
		display: block;
	}

	.mobileNavbar {
		display: block;
	}

	.navbarDesktop {
		display: none;
	}
}

@media (min-width: 1025px) {
	.iconMenu {
		display: none;
	}

	.navbarMobileHorizontal {
		display: none;
	}

	.mobileNavbar {
		display: none;
	}

	.navbarDesktop {
		display: block;
	}
}

/* Tối ưu: Sử dụng CSS containment để cải thiện performance */
.navItemDesktop,
.navItemMobile,
.navItemHorizontal {
	contain: layout style paint;
}

/* Tối ưu: Sử dụng CSS will-change cho các element có animation */
.menuDrawer,
.overlay,
.navMenu {
	will-change: transform, opacity;
}

/* Tối ưu: Sử dụng CSS transform thay vì position để tối ưu GPU */
.mobileNavbar.hidden .menuDrawer {
	transform: translateX(-100%);
}

.mobileNavbar:not(.hidden) .menuDrawer {
	transform: translateX(0);
}

/* Tối ưu: Sử dụng CSS custom properties để dễ dàng thay đổi theme */
@media (prefers-color-scheme: dark) {
	:root {
		--nav-bg: #1a1a1a;
		--nav-text: #ffffff;
		--nav-hover: #4dabf7;
		--nav-active: #74c0fc;
		--nav-border: #2d2d2d;
		--nav-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
	}
}

/* Tối ưu: Sử dụng CSS prefers-reduced-motion để tôn trọng user preference */
@media (prefers-reduced-motion: reduce) {
	.mobileNavbar,
	.menuDrawer,
	.overlay,
	.navMenu,
	.navItemLink,
	.navItemLinkMobile,
	.navMenuLink,
	.navMenuLinkMobile,
	.iconMenu {
		transition: none;
	}

	.navMenuMobile {
		transition: none;
	}
}

/* Tối ưu: Sử dụng CSS focus-visible để cải thiện accessibility */
.navItemLink:focus-visible,
.navItemLinkMobile:focus-visible,
.navMenuLink:focus-visible,
.navMenuLinkMobile:focus-visible,
.iconMenu:focus-visible {
	outline: 2px solid var(--nav-hover);
	outline-offset: 2px;
}

/* Tối ưu: Sử dụng CSS print styles */
@media print {
	.optimizedNavigation {
		display: none;
	}
}
